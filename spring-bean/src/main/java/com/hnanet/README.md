# Bean 生命周期方法
## Bean自身的方法
    这个包括了Bean本身调用的方法和通过配置文件中<bean>的init-method和destroy-method指定的方法

## Bean 生命周期接口方法
    这个包括了BeanNameAware、BeanFactoryAware、InitializingBean和DiposableBean这些接口的方法

## 容器级 生命周期接口方法
    这个包括了 InstantiationAwareBeanPostProcessor 和 BeanPostProcessor 这两个接口实现，一般称它们的实现类为“后处理器”。

## 工厂后处理器接口方法
    这个包括了AspectJWeavingEnabler, ConfigurationClassPostProcessor, CustomAutowireConfigurer等等
    工厂后处理器也是容器级的。在应用上下文装配配置文件之后立即调用。


ApplicationContextAware：获取当前的ApplicationContext；
BeanNameAware：获取当前的beanName;
BeanClassLoaderAware：获取当前的ClassLoader;
BeanFactoryAware：获取当前的BeanFactory;
ApplicationEventPublisherAware：获取当前的ApplicationEventPublisher，用于发布事件；要接收事件的类可以实现ApplicationListener接口，并实现其中的onApplicationEvent方法。

EnvironmentAware
EmbeddedValueResolverAware
ResourceLoaderAware
MessageSourceAware
用于其他各种Spring上下文信息的获取。

使用：Bean类实现**Aware接口。

2.
BeanFactoryPostProcessor
容器实例化任何其它bean之前读取配置元数据，并可以根据需要进行修改。
BeanFactoryPostProcessor只定义了一个方法：postProcessBeanFactory(ConfigurableListableBeanFactory)。
在所有bean的定义已经加载，但是还没有初始化bean的时候，Spring容器会调用此方法，并可以根据需要修改ConfigurableListableBeanFactory的内容，如如PropertySourcesPlaceholderConfigurer。

使用：Bean类实现BeanFactoryPostProcessor接口，或调用AbstractApplicationContext.addBeanFactoryPostProcessor添加。

3.
ApplicationListener
接收ApplicationEventMulticaster广播的事件，事件是ApplicationEvent及其子类。

接收的是ApplicationEventPublisher发布的事件。


使用：Bean类实现ApplicationListener接口并实现其定义的方法onApplicationEvent(E event)，或调用AbstractApplicaitonContext.addApplicationListener添加。


4.
BeanPostProcessor
有两个方法，分别在InitializingBean前后执行，对bean对象进行处理。

postProcessBeforeInitialization ：在InitializingBean和init-method前执行；
postProcessAfterInitialization：在InitializingBean和init-method后执行；

注：不能返回null，否则程序将不再往下进行。如不需要处理则返回原对象即可。

使用：Bean类实现BeanPostProcessor接口，或调用AbstractBeanFactory. addBeanPostProcessor添加。

5.
InitializingBean
在bean的各种属性设置完成后执行，用于执行自定义的初始化操作。

执行 InitializingBean.afterPropertiesSet；
在init-method之前执行;


使用：Bean类实现InitializingBean接口。

4.6 DisposableBean
在bean销毁之前执行，用于执行销毁前的操作。

执行 DisposableBean.destroy();
在destroy-method之前执行；


使用：Bean类实现DisposableBean接口。


1.InitializingBean接口InitializingBean接口中只有一个afterPropertiesSet方法，从方法的名称上很容易理解，这个方法是在Bean的属性都设置值后被调用，用于完成一些初始化工作。当然，在Spring的配置文件中init-method的配置也是在Bean的属性都设置值后被调用，用于完成一些初始化工作，不过在执行顺序上，接口的方法先于配置。值得注意的是，这两种方式都是用于完成一些初始化工作，所以相应的方法中不要编写一些复杂且执行时间很长的逻辑。
2.DisposableBean接口DisposableBean接口中只有一个destroy方法，该方法会在Bean被销毁、生命周期结束之前被调用，用于做一些销毁的收尾工作。同样，在Spring的配置文件中destroy-method配置也完成同样的工作，不过在执行顺序上，接口的方法先于配置。
3.ApplicationContextAware接口ApplicationContextAware中只有一个setApplicationContext方法。实现了ApplicationContextAware接口的类，可以在该Bean被加载的过程中获取Spring的应用上下文ApplicationContext，通过ApplicationContext可以获取Spring容器内的很多信息。
4.BeanFactoryAware接口BeanFactoryAware接口中只有一个setBeanFactory方法。实现了BeanFactoryAware接口的类，可以在该Bean被加载的过程中获取加载该Bean的BeanFactory，同时也可以获取这个BeanFactory中加载的其它Bean。
5.FactoryBean接口FactoryBean接口可以实现Bean实例化的个性定制，让Spring容器加载我们想要的Bean。实现了FactoryBean接口的类，可以通过实现getObject方法，实现加载我们想要的Bean。
6.BeanPostProcessor接口BeanPostProcessor接口中有两个方法，分别为postProcessBeforeInitialization和postProcessAfterInitialization。实现了BeanPostProcessor接口的类，会在每个Bean初始化(即调用setter)之前和之后，分别调用这个类中的postProcessBeforeInitialization方法和postProcessAfterInitialization方法，实现初始化的逻辑控制。
7.InstantiationAwareBeanPostProcessor接口InstantiationAwareBeanPostProcessor接口中，常用的方法是postProcessBeforeInstantiation和postProcessAfterInstantiation。每个Bean的实例化(即调用构造函数)之前和之后，会分别调用实现了该接口的类中的postProcessBeforeInstantiation和postProcessAfterInstantiation方法。
8.BeanFactoryPostProcessor接口BeanFactoryPostProcessor接口中只有postProcessBeanFactory方法。实现了该接口的类，可以在Bean被创建之前，获取容器中Bean的定义信息，并且可以进行修改。实现类中的postProcessBeanFactory方法只会被执行一次，且先于BeanPostProcessor接口的方法。
